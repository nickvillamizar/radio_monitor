â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                               â•‘
â•‘              ğŸš€ GUÃA DE PRUEBAS FINALES - ANTES DE PRODUCCIÃ“N                â•‘
â•‘                    Radio Monitor Sistema Completo                            â•‘
â•‘                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


PASO 1: VERIFICAR CÃ“DIGO BASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En PowerShell:

  cd c:\Users\57321\OneDrive\Escritorio\radio_monitor-main\radio_monitor-main
  
  # Verificar que predictive_model.py existe
  ls utils/predictive_model.py
  
  # Verificar estructura del proyecto
  ls utils/
  ls templates/
  ls migrations/


PASO 2: VERIFICAR TESTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test 1: Predictor simple (sin dependencias externas)

  python test_predictor_simple.py
  
  âœ“ Debe mostrar:
    - 10 predicciones vÃ¡lidas
    - 50 predicciones sin errores
    - Confianza: 70-85%
    - GÃ©neros Dominican vÃ¡lidos
    - Artistas reales de RD


Test 2: IntegraciÃ³n completa

  python test_integration_detection.py
  
  âœ“ Debe mostrar:
    - TEST EXITOSO: 20/20 detecciones con fuente='prediccion'
    - ValidaciÃ³n OK: Todos los campos presentes
    - 30/30 predicciones vÃ¡lidas
    - 100% de cobertura garantizada


PASO 3: VERIFICAR BASE DE DATOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Estructura:

  python check_db.py
  
  âœ“ Debe mostrar:
    - Tabla canciones con campos correctos
    - Tabla emisoras con 71 registros
    - Campos: titulo, artista, fuente, razon_prediccion, confianza_prediccion


Llenar datos de muestra:

  # Opcionalmente ejecutar detecciÃ³n una vez
  python launch_app.py
  # Espera 60 segundos
  # Ctrl+C para detener


Contar registros:

  python list_tables_and_counts.py
  
  âœ“ Debe mostrar nÃºmeros > 0 para canciones


PASO 4: VERIFICAR INTERFAZ WEB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Iniciar Flask:

  python app.py
  
  âœ“ Debe mostrar:
    - Running on http://127.0.0.1:5000
    - Warning sobre development server es OK

Abrir en navegador:

  http://127.0.0.1:5000/
  
  âœ“ Verificar:
    â–¡ Index.html carga correctamente
    â–¡ CSS visible (sin errores de estilo)
    â–¡ Punto verde pulsante en header
    â–¡ Contador de "PrÃ³x: Xs"
    â–¡ TOP CANCIONES visible
    â–¡ ÃšLTIMAS REPRODUCCIONES visible
    â–¡ Badges de fuente (ğŸ”Š ğŸ™ï¸ ğŸ¤– ğŸ“Š) presentes


PASO 5: VERIFICAR API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En PowerShell (otra ventana):

  # Obtener TOP songs
  Invoke-WebRequest -Uri "http://127.0.0.1:5000/api/stats/top_songs?limit=5" | Select-Object -ExpandProperty Content
  
  âœ“ Debe retornar JSON con:
    {
      "canciones": [
        {
          "titulo": "...",
          "artista": "...",
          "fuente": "icy" | "audd" | "prediccion",
          "razon_prediccion": "...",
          "confianza_prediccion": 0.75,
          "playcount": 5,
          "emisoras": 3
        },
        ...
      ]
    }


PASO 6: VERIFICAR AUTO-REFRESH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En el navegador (abierto en http://127.0.0.1:5000/):

  1. Abre Console (F12 > Console)
  
  2. Espera 5 segundos, deberÃ­as ver logs:
     âœ“ [AUTO-REFRESH] Iniciando fetch...
     âœ“ [TOP-SONGS] Renderizando X canciones
     âœ“ [STATS] Actualizando estadÃ­sticas
  
  3. Cada 15 segundos, volverÃ¡ a hacer fetch
     âœ“ Contador baja: 15 â†’ 14 â†’ 13... â†’ 1 â†’ reset a 15
  
  4. Punto verde debe estar pulsando constantemente


PASO 7: EJECUTAR CICLO COMPLETO DE DETECCIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En PowerShell (tercera ventana):

  python launch_app.py
  
  Espera 60 segundos y observa:
  
  âœ“ [CHECK] 71 emisoras siendo procesadas
  âœ“ [ICY] Algunas detecciones por metadata (rÃ¡pido: 1-3s)
  âœ“ [AUDD] Algunas por audio recognition (15-25s)
  âœ“ [PREDICT] Resto por predictor (instantÃ¡neo)
  âœ“ [SAVE] Todas guardadas en BD
  âœ“ [END] Ciclo completado


PASO 8: VERIFICAR DATOS EN INDEX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DespuÃ©s del ciclo, en el navegador:

  1. Presiona botÃ³n ğŸ”„ Actualizar (esquina arriba derecha)
  
  2. Punto debe ponerse naranja ("Actualizando...")
  
  3. En < 2 segundos vuelve verde ("Sincronizado")
  
  4. TOP CANCIONES ahora muestra:
     âœ“ MÃ¡s de 10 canciones Ãºnicas
     âœ“ Canciones reales (no "TransmisiÃ³n en Vivo")
     âœ“ Artistas reales (no "Desconocido")
     âœ“ Badges de fuente correctos
  
  5. ÃšLTIMAS REPRODUCCIONES muestra:
     âœ“ 20 reproducciones ordenadas por hora (descendente)
     âœ“ Hora real (reciente)
     âœ“ Emisora vÃ¡lida
     âœ“ Artista + TÃ­tulo real
  
  6. ESTADÃSTICAS muestra:
     âœ“ Canciones Ãºnicas > 50
     âœ“ Artistas Ãºnicos > 20
     âœ“ Emisoras activas = 71 (o > 60)
     âœ“ Porcentajes de fuente suman 100%


PASO 9: VALIDAR DATOS ESPECÃFICOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En la tabla ÃšLTIMAS REPRODUCCIONES, haz clic en una canciÃ³n:

  âœ“ Artista DEBE ser nombre real (ej: "Juan Luis Guerra", "Daddy Yankee")
  âœ“ TÃ­tulo DEBE ser nombre real (ej: "Bachata Rosa", "Gasolina")
  âœ“ NO DEBE ser "TransmisiÃ³n en Vivo"
  âœ“ NO DEBE ser "Artista Desconocido"
  âœ“ Fuente DEBE ser ğŸ”Š, ğŸ™ï¸, o ğŸ¤– (NUNCA ğŸ“Š fallback)


PASO 10: VERIFICAR CONFIANZA DE PREDICCIONES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Abre DevTools (F12 > Network):

  1. Presiona ğŸ”„ Actualizar
  
  2. Busca request a /api/stats/top_songs
  
  3. En Response, busca "confianza_prediccion"
  
  âœ“ Valores DEBEN estar en rango 0.65-0.85 (sensible)
  âœ“ NO debe haber 0.0 o 1.0 (serÃ­a problema)
  âœ“ Promedio DEBE estar ~0.75-0.80


PASO 11: PRUEBA DE ESTRÃ‰S (OPCIONAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ejecutar mÃºltiples ciclos:

  python launch_app.py
  # Espera 60s (Ciclo 1)
  # Presiona Actualizar en navegador
  # Espera 60s mÃ¡s (Ciclo 2)
  # Presiona Actualizar
  # ...
  # DespuÃ©s de 5-6 ciclos (5-6 minutos):
  
  âœ“ Sistema sigue respondiendo
  âœ“ Sin memory leaks (RAM constante)
  âœ“ Sin errores acumulados
  âœ“ Datos siguen siendo vÃ¡lidos


PASO 12: VALIDAR TRANSPARENCIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

En el navegador, en ESTADÃSTICAS (derecha abajo):

  Debe haber un desglose como:
  âœ… ğŸ”Š ICY: 55% (metadata del stream)
  âœ… ğŸ™ï¸ AUDD: 20% (reconocimiento audio)
  âœ… ğŸ¤– PREDICCIÃ“N: 20% (anÃ¡lisis estadÃ­stico)
  âœ… ğŸ“Š FALLBACK: 5% (sin datos, fallback genÃ©rico)

  Porcentajes deben sumar 100%
  
  Nota: FALLBACK debe ser < 10% (raro)
        PREDICCIÃ“N debe ser 10-30% (normal)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LISTA DE VERIFICACIÃ“N RÃPIDA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ANTES DE ENVIAR A PRODUCCIÃ“N:

â–¡ test_predictor_simple.py: âœ… PASS
â–¡ test_integration_detection.py: âœ… PASS
â–¡ Index.html carga sin errores
â–¡ Punto verde pulsante visible
â–¡ Contador 15â†’14â†’13 funciona
â–¡ TOP CANCIONES no vacÃ­o
â–¡ ÃšLTIMAS REPRODUCCIONES no vacÃ­o
â–¡ Badges de fuente correctos (ğŸ”Š ğŸ™ï¸ ğŸ¤–)
â–¡ PREDICCIÃ“N% es 10-30%
â–¡ Confianza 70-85%
â–¡ SIN "TransmisiÃ³n en Vivo"
â–¡ SIN "Artista Desconocido"
â–¡ API retorna datos frescos
â–¡ Auto-refresh cada 15s funciona
â–¡ Manual refresh funciona
â–¡ DespuÃ©s de 60s hay datos nuevos
â–¡ Performance < 70 segundos por ciclo


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        âœ… SI TODO PASA, LISTA PARA PRODUCCIÃ“N

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
